[tox]
envlist = test,py35,py36,py37,py38,py39
skipsdist = True

[testenv]
passenv = APPBASE
setenv =
    PYTHONPATH = {env:PYTHONPATH:}{:}{toxinidir}
commands =
    test:       {[testenv:test]commands}

[testenv:test]
deps =
    pytest
    pytest-cov
    pytest-mock
commands =
    pytest -k 'not systemtest'

[testenv:test-system]
deps =
    pytest
    pytest-cov
    pytest-mock
commands =
    pytest -k 'systemtest'

[testenv:flake8]
deps = flake8
setenv =
    PYTHONPATH = {env:PYTHONPATH:}{:}{toxinidir}
commands =
  flake8

[testenv:pylint]
deps =
    pylint
    pytest
    pytest-mock
setenv =
    PYTHONPATH = {env:PYTHONPATH:}{:}{toxinidir}
commands =
  pylint \
    start_network/ \
    tests/
